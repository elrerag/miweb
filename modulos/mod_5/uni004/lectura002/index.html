


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.6">
    
    
      
        <title>Lectura002 - Java Full Stack Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4b9ffd7b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unidad-42-asociaciones" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../../.." title="Java Full Stack Docs" class="md-header-nav__button md-logo" aria-label="Java Full Stack Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Java Full Stack Docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Lectura002
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Java Full Stack Docs" class="md-nav__button md-logo" aria-label="Java Full Stack Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Java Full Stack Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../ejercicios/repaso/teoria/poo/herencia/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#421-implementacion-del-proyecto" class="md-nav__link">
    4.2.1 Implementación del proyecto
  </a>
  
    <nav class="md-nav" aria-label="4.2.1 Implementación del proyecto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estructura" class="md-nav__link">
    Estructura
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archivos-modificados" class="md-nav__link">
    Archivos modificados
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cllherreraarriendopelis" class="md-nav__link">
    cl.lherrera.arriendopelis
  </a>
  
    <nav class="md-nav" aria-label="cl.lherrera.arriendopelis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisappconfigjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/AppConfig.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisarriendopelisapplicationjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/ArriendopelisApplication.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisservletinitializerjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/ServletInitializer.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelissqlitedialectjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/SQLiteDialect.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cllherreraarriendopeliscontrolador" class="md-nav__link">
    cl/lherrera/arriendopelis/controlador/
  </a>
  
    <nav class="md-nav" aria-label="cl/lherrera/arriendopelis/controlador/">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopeliscontroladorarriendocontrollerjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/ArriendoController.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopeliscontroladorclientecontrollerjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/ClienteController.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopeliscontroladorhomecontrollerjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/HomeController.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopeliscontroladorpeliculacontrollerjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/PeliculaController.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cllherreraarriendopelisdao" class="md-nav__link">
    cl.lherrera.arriendopelis.dao
  </a>
  
    <nav class="md-nav" aria-label="cl.lherrera.arriendopelis.dao">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisdaoarriendorepositoryjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/ArriendoRepository.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisdaoclienterepositoryjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/ClienteRepository.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisdaopelicularepositoryjava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/PeliculaRepository.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cllherreraarriendopelisdto" class="md-nav__link">
    cl/lherrera/arriendopelis/dto/
  </a>
  
    <nav class="md-nav" aria-label="cl/lherrera/arriendopelis/dto/">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisdtoarriendodtojava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/ArriendoDTO.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisdtoclientedtojava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/ClienteDTO.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisdtogenericdtojava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/GenericDTO.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisdtopeliculadtojava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/PeliculaDTO.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cllherreraarriendopelismodelo" class="md-nav__link">
    cl.lherrera.arriendopelis.modelo
  </a>
  
    <nav class="md-nav" aria-label="cl.lherrera.arriendopelis.modelo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelismodeloarriendojava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Arriendo.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelismodeloclientejava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Cliente.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelismodelopeliculajava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Pelicula.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cllherreraarriendopelisservicio" class="md-nav__link">
    cl.lherrera.arriendopelis.servicio
  </a>
  
    <nav class="md-nav" aria-label="cl.lherrera.arriendopelis.servicio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisservicioarriendoservicejava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/ArriendoService.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisservicioclienteservicejava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/ClienteService.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisserviciopeliculaservicejava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/PeliculaService.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cllherreraarriendopelisservicioimpl" class="md-nav__link">
    cl.lherrera.arriendopelis.servicioImpl
  </a>
  
    <nav class="md-nav" aria-label="cl.lherrera.arriendopelis.servicioImpl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisservicioimplarriendoserviceimpljava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/ArriendoServiceImpl.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisservicioimplclienteserviceimpljava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/ClienteServiceImpl.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainjavacllherreraarriendopelisservicioimplpeliculaserviceimpljava" class="md-nav__link">
    /arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/PeliculaServiceImpl.java
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arriendopelissrcmainresources" class="md-nav__link">
    /arriendopelis/src/main/resources
  </a>
  
    <nav class="md-nav" aria-label="/arriendopelis/src/main/resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#templatesarriendoshtml" class="md-nav__link">
    /templates/arriendos.html
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#templatesbasehtml" class="md-nav__link">
    /templates/base.html
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#templatesclienteshtml" class="md-nav__link">
    /templates/clientes.html
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#templateshomehtml" class="md-nav__link">
    /templates/home.html
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#templatespeliculashtml" class="md-nav__link">
    /templates/peliculas.html
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applicationproperties" class="md-nav__link">
    /application.properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#databaseproperties" class="md-nav__link">
    /database.properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pomxml" class="md-nav__link">
    /pom.xml
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <blockquote>
<h1 id="unidad-42-asociaciones"><strong>Unidad 4.2 - Asociaciones</strong></h1>
<blockquote>
<ul>
<li>Esto trata de asociaciaciones. las que se ejemplifican en el proyecto siguiente, en lectura 1 mostramos la materia y acá se aplica. La diferencia es que acá ocupamos <code>SQLITE</code>.</li>
<li>Podemos tomar este proyecto como el principal. (Ya que este contempla todo lo visto en la lectura 1)</li>
<li>Se modifica el proyecto para mostrar el como utilizar <code>thymeleaf</code> para tener una plantilla principal. Es decir para usarlo como motor de plantillas.</li>
</ul>
</blockquote>
</blockquote>
<hr />
<p><br /></p>
<blockquote>
<h2 id="421-implementacion-del-proyecto"><strong>4.2.1 Implementación del proyecto</strong></h2>
</blockquote>
<h3 id="estructura"><strong>Estructura</strong></h3>
<pre><code>./
├── HELP.md
├── basedatos.db
├── mvnw
├── mvnw.cmd
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── cl
│   │   │       └── lherrera
│   │   │           └── arriendopelis
│   │   │               ├── AppConfig.java
│   │   │               ├── ArriendopelisApplication.java
│   │   │               ├── SQLiteDialect.java
│   │   │               ├── ServletInitializer.java
│   │   │               ├── controlador
│   │   │               │   ├── ArriendoController.java
│   │   │               │   ├── ClienteController.java
│   │   │               │   ├── HomeController.java
│   │   │               │   └── PeliculaController.java
│   │   │               ├── dao
│   │   │               │   ├── ArriendoRepository.java
│   │   │               │   ├── ClienteRepository.java
│   │   │               │   └── PeliculaRepository.java
│   │   │               ├── dto
│   │   │               │   ├── ArriendoDTO.java
│   │   │               │   ├── ClienteDTO.java
│   │   │               │   ├── GenericDTO.java
│   │   │               │   └── PeliculaDTO.java
│   │   │               ├── modelo
│   │   │               │   ├── Arriendo.java
│   │   │               │   ├── Cliente.java
│   │   │               │   └── Pelicula.java
│   │   │               ├── servicio
│   │   │               │   ├── ArriendoService.java
│   │   │               │   ├── ClienteService.java
│   │   │               │   └── PeliculaService.java
│   │   │               └── servicioImpl
│   │   │                   ├── ArriendoServiceImpl.java
│   │   │                   ├── ClienteServiceImpl.java
│   │   │                   └── PeliculaServiceImpl.java
│   │   ├── resources
│   │   │   ├── application.properties
│   │   │   ├── database.properties
│   │   │   ├── static
│   │   │   └── templates
│   │   │       ├── arriendos.html
│   │   │       ├── base.html
│   │   │       ├── clientes.html
│   │   │       ├── home.html
│   │   │       └── peliculas.html
│   │   └── webapp
│   │       └── index.html
│   └── test
│       └── java
│           └── cl
│               └── lherrera
│                   └── arriendopelis
│                       ├── ArriendopelisApplicationTests.java
│                       └── dao
│                           ├── ClienteRepositoryTest.java
│                           └── PeliculaRepositoryTest.java
└── target
    ├── classes
    │   ├── application.properties
    │   ├── cl
    │   │   └── lherrera
    │   │       └── arriendopelis
    │   │           ├── AppConfig.class
    │   │           ├── ArriendopelisApplication.class
    │   │           ├── SQLiteDialect.class
    │   │           ├── SeEjecutaAntes.class
    │   │           ├── ServletInitializer.class
    │   │           ├── controlador
    │   │           │   ├── ArriendoController.class
    │   │           │   ├── ClienteController.class
    │   │           │   ├── HomeController.class
    │   │           │   └── PeliculaController.class
    │   │           ├── dao
    │   │           │   ├── ArriendoRepository.class
    │   │           │   ├── ClienteRepository.class
    │   │           │   └── PeliculaRepository.class
    │   │           ├── dto
    │   │           │   ├── ArriendoDTO.class
    │   │           │   ├── ClienteDTO.class
    │   │           │   ├── GenericDTO.class
    │   │           │   └── PeliculaDTO.class
    │   │           ├── modelo
    │   │           │   ├── Arriendo.class
    │   │           │   ├── Cliente.class
    │   │           │   └── Pelicula.class
    │   │           ├── servicio
    │   │           │   ├── ArriendoService.class
    │   │           │   ├── ClienteService.class
    │   │           │   └── PeliculaService.class
    │   │           └── servicioImpl
    │   │               ├── ArriendoServiceImpl.class
    │   │               ├── ClienteServiceImpl.class
    │   │               └── PeliculaServiceImpl.class
    │   ├── database.properties
    │   └── templates
    │       ├── arriendos.html
    │       ├── base.html
    │       ├── clientes.html
    │       ├── home.html
    │       └── peliculas.html
    ├── m2e-wtp
    │   └── web-resources
    │       └── META-INF
    │           ├── MANIFEST.MF
    │           └── maven
    │               └── cl.lherrera.arriendopelis
    │                   └── arriendopelis
    │                       ├── pom.properties
    │                       └── pom.xml
    └── test-classes
        └── cl
            └── lherrera
                └── arriendopelis
                    ├── ArriendopelisApplicationTests.class
                    └── dao
                        ├── ClienteRepositoryTest.class
                        └── PeliculaRepositoryTest.class

45 directories, 78 files

</code></pre>

<h3 id="archivos-modificados"><strong>Archivos modificados</strong></h3>
<pre><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/AppConfig.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/ArriendopelisApplication.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/ServletInitializer.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/SQLiteDialect.java

/arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/ArriendoController.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/ClienteController.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/HomeController.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/PeliculaController.java

/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/ArriendoRepository.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/ClienteRepository.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/PeliculaRepository.java

/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/ArriendoDTO.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/ClienteDTO.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/GenericDTO.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/PeliculaDTO.java

/arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Arriendo.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Cliente.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Pelicula.java

/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/ArriendoService.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/ClienteService.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/PeliculaService.java

/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/ArriendoServiceImpl.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/ClienteServiceImpl.java
/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/PeliculaServiceImpl.java

/arriendopelis/src/main/resources/templates/arriendos.html
/arriendopelis/src/main/resources/templates/base.html
/arriendopelis/src/main/resources/templates/clientes.html
/arriendopelis/src/main/resources/templates/home.html
/arriendopelis/src/main/resources/templates/peliculas.html

/arriendopelis/src/main/resources/application.properties
/arriendopelis/src/main/resources/database.properties

/arriendopelis/pom.xml
</code></pre>

<h3 id="cllherreraarriendopelis"><strong><code>cl.lherrera.arriendopelis</code></strong></h3>
<h4 id="arriendopelissrcmainjavacllherreraarriendopelisappconfigjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/AppConfig.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis;

import javax.sql.DataSource;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.PropertySource;
import org.springframework.core.env.Environment;
import org.springframework.jdbc.datasource.DriverManagerDataSource;

@Configuration
@ComponentScan(&quot;cl.lherrera.jpaspring&quot;)
@PropertySource(&quot;classpath:database.properties&quot;)
public class AppConfig {

    @Autowired
    Environment environment;

    @Bean
    DataSource dataSource() {
        DriverManagerDataSource driverManagerDataSource = new DriverManagerDataSource();
        driverManagerDataSource.setUrl(environment.getProperty(&quot;url&quot;));
        driverManagerDataSource.setUsername(environment.getProperty(&quot;username&quot;));
        driverManagerDataSource.setPassword(environment.getProperty(&quot;dbpassword&quot;));
        driverManagerDataSource.setDriverClassName(environment.getProperty(&quot;driverClassName&quot;));
        return driverManagerDataSource;
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisarriendopelisapplicationjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/ArriendopelisApplication.java</code></h4>
<p>Se agrega una clase (puede ser de forma funcional también para ahorrar código), que su única misión es ingresar un usuario y una película de prueba, para la demostración de la aplicación funcionando.</p>
<pre><code class="java">package cl.lherrera.arriendopelis;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.stereotype.Component;

import cl.lherrera.arriendopelis.modelo.Cliente;
import cl.lherrera.arriendopelis.modelo.Pelicula;
import cl.lherrera.arriendopelis.servicio.ClienteService;
import cl.lherrera.arriendopelis.servicio.PeliculaService;

@SpringBootApplication
public class ArriendopelisApplication {

    public static void main(String[] args) {
        SpringApplication.run(ArriendopelisApplication.class, args);
    }

}

/**
 * Esta clase, realiza acciones antes que la aplicación está en ejecución así,
 * el usuario está ingresado antes de iniciar sesión.
 *
 */
@Component
class SeEjecutaAntes implements CommandLineRunner {

    @Autowired
    ClienteService servicioCliente;

    @Autowired
    PeliculaService servicioPelicula;

    @Override
    public void run(String... args) throws Exception {

        Cliente cliente = new Cliente();
        cliente.setNombre(&quot;Luis&quot;);
        // se puede ver que add no es un buen nombre para un
        // servicio. Parece una lista.
        servicioCliente.add(cliente);

        Pelicula pelicula = new Pelicula();
        pelicula.setTitulo(&quot;El cubo&quot;);
        pelicula.setDescripcion(&quot;muy rara&quot;);
        pelicula.setDuracion(120);

        servicioPelicula.add(pelicula);

    }

}
</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisservletinitializerjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/ServletInitializer.java</code></h4>
<p>Este archivo se genera solo, es para que se construya el proyecto en un <code>war</code>.</p>
<pre><code class="java">package cl.lherrera.arriendopelis;

import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;

public class ServletInitializer extends SpringBootServletInitializer {

    @Override
    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {
        return application.sources(ArriendopelisApplication.class);
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelissqlitedialectjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/SQLiteDialect.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis;

import java.sql.Types;

import org.hibernate.dialect.Dialect;
import org.hibernate.dialect.function.StandardSQLFunction;
import org.hibernate.dialect.function.SQLFunctionTemplate;
import org.hibernate.dialect.function.VarArgsSQLFunction;
import org.hibernate.type.StandardBasicTypes;

public class SQLiteDialect extends Dialect {
  public SQLiteDialect() {
    super();
    registerColumnType(Types.BIT, &quot;integer&quot;);
    registerColumnType(Types.TINYINT, &quot;tinyint&quot;);
    registerColumnType(Types.SMALLINT, &quot;smallint&quot;);
    registerColumnType(Types.INTEGER, &quot;integer&quot;);
    registerColumnType(Types.BIGINT, &quot;bigint&quot;);
    registerColumnType(Types.FLOAT, &quot;float&quot;);
    registerColumnType(Types.REAL, &quot;real&quot;);
    registerColumnType(Types.DOUBLE, &quot;double&quot;);
    registerColumnType(Types.NUMERIC, &quot;numeric&quot;);
    registerColumnType(Types.DECIMAL, &quot;decimal&quot;);
    registerColumnType(Types.CHAR, &quot;char&quot;);
    registerColumnType(Types.VARCHAR, &quot;varchar&quot;);
    registerColumnType(Types.LONGVARCHAR, &quot;longvarchar&quot;);
    registerColumnType(Types.DATE, &quot;date&quot;);
    registerColumnType(Types.TIME, &quot;time&quot;);
    registerColumnType(Types.TIMESTAMP, &quot;timestamp&quot;);
    registerColumnType(Types.BINARY, &quot;blob&quot;);
    registerColumnType(Types.VARBINARY, &quot;blob&quot;);
    registerColumnType(Types.LONGVARBINARY, &quot;blob&quot;);
    // registerColumnType(Types.NULL, &quot;null&quot;);
    registerColumnType(Types.BLOB, &quot;blob&quot;);
    registerColumnType(Types.CLOB, &quot;clob&quot;);
    registerColumnType(Types.BOOLEAN, &quot;integer&quot;);

    registerFunction(&quot;concat&quot;, new VarArgsSQLFunction(StandardBasicTypes.STRING, &quot;&quot;,
        &quot;||&quot;, &quot;&quot;));
    registerFunction(&quot;mod&quot;, new SQLFunctionTemplate(StandardBasicTypes.INTEGER,
        &quot;?1 % ?2&quot;));
    registerFunction(&quot;substr&quot;, new StandardSQLFunction(&quot;substr&quot;,
            StandardBasicTypes.STRING));
    registerFunction(&quot;substring&quot;, new StandardSQLFunction(&quot;substr&quot;,
            StandardBasicTypes.STRING));
  }

  public boolean supportsIdentityColumns() {
    return true;
  }

  public boolean hasDataTypeInIdentityColumn() {
    return false; // As specify in NHibernate dialect
  }

  public String getIdentityColumnString() {
    // return &quot;integer primary key autoincrement&quot;;
    return &quot;integer&quot;;
  }

  public String getIdentitySelectString() {
    return &quot;select last_insert_rowid()&quot;;
  }

  public boolean supportsLimit() {
    return true;
  }

  public String getLimitString(String query, boolean hasOffset) {
    return new StringBuffer(query.length() + 20).append(query).append(
        hasOffset ? &quot; limit ? offset ?&quot; : &quot; limit ?&quot;).toString();
  }

  public boolean bindLimitParametersInReverseOrder() {
    return true;
  }

  public boolean supportsTemporaryTables() {
    return true;
  }

  public String getCreateTemporaryTableString() {
    return &quot;create temporary table if not exists&quot;;
  }

  public boolean dropTemporaryTableAfterUse() {
    return false;
  }

  public boolean supportsCurrentTimestampSelection() {
    return true;
  }

  public boolean isCurrentTimestampSelectStringCallable() {
    return false;
  }

  public String getCurrentTimestampSelectString() {
    return &quot;select current_timestamp&quot;;
  }

  public boolean supportsUnionAll() {
    return true;
  }

  public boolean hasAlterTable() {
    return false; // As specify in NHibernate dialect
  }

  public boolean dropConstraints() {
    return false;
  }

  public String getAddColumnString() {
    return &quot;add column&quot;;
  }

  public String getForUpdateString() {
    return &quot;&quot;;
  }

  public boolean supportsOuterJoinForUpdate() {
    return false;
  }

  public String getDropForeignKeyString() {
    throw new UnsupportedOperationException(
        &quot;No drop foreign key syntax supported by SQLiteDialect&quot;);
  }

  public String getAddForeignKeyConstraintString(String constraintName,
      String[] foreignKey, String referencedTable, String[] primaryKey,
      boolean referencesPrimaryKey) {
    throw new UnsupportedOperationException(
        &quot;No add foreign key syntax supported by SQLiteDialect&quot;);
  }

  public String getAddPrimaryKeyConstraintString(String constraintName) {
    throw new UnsupportedOperationException(
        &quot;No add primary key syntax supported by SQLiteDialect&quot;);
  }

  public boolean supportsIfExistsBeforeTableName() {
    return true;
  }

  public boolean supportsCascadeDelete() {
    return false;
  }
}
</code></pre>

<h3 id="cllherreraarriendopeliscontrolador"><strong><code>cl/lherrera/arriendopelis/controlador/</code></strong></h3>
<h4 id="arriendopelissrcmainjavacllherreraarriendopeliscontroladorarriendocontrollerjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/ArriendoController.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.controlador;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.view.RedirectView;

import cl.lherrera.arriendopelis.dto.ArriendoDTO;
import cl.lherrera.arriendopelis.modelo.Arriendo;
import cl.lherrera.arriendopelis.servicio.ArriendoService;
import cl.lherrera.arriendopelis.servicio.ClienteService;
import cl.lherrera.arriendopelis.servicio.PeliculaService;

@Controller
@RequestMapping(path = &quot;/arriendos&quot;)
public class ArriendoController {

    @Autowired
    private ArriendoService arriendoService;

    @Autowired
    private PeliculaService peliculaService;

    @Autowired
    private ClienteService clienteService;

    @GetMapping(path = { &quot;&quot;, &quot;/&quot; })
    public ModelAndView arriendos(Model model) {
        // se crea el modelAnd View, esto no solo renderiza la vista, si no que
        // envía el modelo.
        ModelAndView modelAndView = new ModelAndView(&quot;arriendos&quot;);

        modelAndView.addObject(&quot;arriendo&quot;, new Arriendo());
        model.addAttribute(&quot;peliculas&quot;, peliculaService.findAll().getPeliculas());
        model.addAttribute(&quot;clientes&quot;, clienteService.findAll().getClientes());
        return modelAndView;
    }

    /**
     * @ModelAttribute es la anotación que permite acceder al modelo declarado en la
     *                 vista que en este caso es arriendo.
     */
    @PostMapping(&quot;/agregar&quot;)
    public RedirectView agregar(@ModelAttribute Arriendo arriendo) {
        ArriendoDTO respuestaServicio = arriendoService.add(arriendo);
        if (respuestaServicio.getCodigo().equals(&quot;0&quot;)) {
            return new RedirectView(&quot;/home&quot;);
        } else {
            return new RedirectView(&quot;/arriendos&quot;);
        }
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopeliscontroladorclientecontrollerjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/ClienteController.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.controlador;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.view.RedirectView;

import cl.lherrera.arriendopelis.dto.ClienteDTO;
import cl.lherrera.arriendopelis.modelo.Cliente;
import cl.lherrera.arriendopelis.servicio.ClienteService;

@Controller
@RequestMapping(path = &quot;clientes&quot;)
public class ClienteController {

    @Autowired
    private ClienteService clienteService;

    @GetMapping
    public ModelAndView clientes() {
        ModelAndView modelAndView = new ModelAndView(&quot;clientes&quot;);
        modelAndView.addObject(&quot;cliente&quot;, new Cliente());
        return modelAndView;
    }

    @PostMapping(&quot;/agregar&quot;)
    public RedirectView agregar(@ModelAttribute Cliente cliente) {
        ClienteDTO respuestaServicio = clienteService.add(cliente);
        if (respuestaServicio.getCodigo().equals(&quot;0&quot;)) {
            return new RedirectView(&quot;/home&quot;);
        } else {
            return new RedirectView(&quot;/clientes&quot;);
        }
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopeliscontroladorhomecontrollerjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/HomeController.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.controlador;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.view.RedirectView;

import cl.lherrera.arriendopelis.dto.ClienteDTO;
import cl.lherrera.arriendopelis.modelo.Cliente;
import cl.lherrera.arriendopelis.servicio.ClienteService;

@Controller
@RequestMapping(path = &quot;clientes&quot;)
public class ClienteController {

    @Autowired
    private ClienteService clienteService;

    @GetMapping
    public ModelAndView clientes() {
        ModelAndView modelAndView = new ModelAndView(&quot;clientes&quot;);
        modelAndView.addObject(&quot;cliente&quot;, new Cliente());
        return modelAndView;
    }

    @PostMapping(&quot;/agregar&quot;)
    public RedirectView agregar(@ModelAttribute Cliente cliente) {
        ClienteDTO respuestaServicio = clienteService.add(cliente);
        if (respuestaServicio.getCodigo().equals(&quot;0&quot;)) {
            return new RedirectView(&quot;/home&quot;);
        } else {
            return new RedirectView(&quot;/clientes&quot;);
        }
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopeliscontroladorpeliculacontrollerjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/controlador/PeliculaController.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.controlador;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.view.RedirectView;

import cl.lherrera.arriendopelis.dto.PeliculaDTO;
import cl.lherrera.arriendopelis.modelo.Pelicula;
import cl.lherrera.arriendopelis.servicio.PeliculaService;

@Controller
@RequestMapping(path = &quot;/peliculas&quot;)
public class PeliculaController {

    @Autowired
    private PeliculaService peliculaService;

    @GetMapping(path = { &quot;&quot;, &quot;/&quot; })
    public ModelAndView peliculas() {
        ModelAndView modelAndView = new ModelAndView(&quot;peliculas&quot;);
        modelAndView.addObject(&quot;pelicula&quot;, new Pelicula());
        return modelAndView;
    }

    @PostMapping(path = &quot;/agregar&quot;)
    public RedirectView agregar(@ModelAttribute Pelicula pelicula) {
        PeliculaDTO respuestaServicio = peliculaService.add(pelicula);
        if (respuestaServicio.getCodigo().equals(&quot;0&quot;)) {
            return new RedirectView(&quot;/home&quot;);
        } else {
            return new RedirectView(&quot;/peliculas&quot;);
        }
    }

}

</code></pre>

<h3 id="cllherreraarriendopelisdao"><strong><code>cl.lherrera.arriendopelis.dao</code></strong></h3>
<h4 id="arriendopelissrcmainjavacllherreraarriendopelisdaoarriendorepositoryjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/ArriendoRepository.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.controlador;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.view.RedirectView;

import cl.lherrera.arriendopelis.dto.PeliculaDTO;
import cl.lherrera.arriendopelis.modelo.Pelicula;
import cl.lherrera.arriendopelis.servicio.PeliculaService;

@Controller
@RequestMapping(path = &quot;/peliculas&quot;)
public class PeliculaController {

    @Autowired
    private PeliculaService peliculaService;

    @GetMapping(path = { &quot;&quot;, &quot;/&quot; })
    public ModelAndView peliculas() {
        ModelAndView modelAndView = new ModelAndView(&quot;peliculas&quot;);
        modelAndView.addObject(&quot;pelicula&quot;, new Pelicula());
        return modelAndView;
    }

    @PostMapping(path = &quot;/agregar&quot;)
    public RedirectView agregar(@ModelAttribute Pelicula pelicula) {
        PeliculaDTO respuestaServicio = peliculaService.add(pelicula);
        if (respuestaServicio.getCodigo().equals(&quot;0&quot;)) {
            return new RedirectView(&quot;/home&quot;);
        } else {
            return new RedirectView(&quot;/peliculas&quot;);
        }
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisdaoclienterepositoryjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/ClienteRepository.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.dao;

import org.springframework.data.jpa.repository.JpaRepository;

import cl.lherrera.arriendopelis.modelo.Cliente;

public interface ClienteRepository extends JpaRepository&lt;Cliente, Integer&gt; {

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisdaopelicularepositoryjava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dao/PeliculaRepository.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.dao;

import org.springframework.data.jpa.repository.JpaRepository;

import cl.lherrera.arriendopelis.modelo.Pelicula;

public interface PeliculaRepository extends JpaRepository&lt;Pelicula, Integer&gt; {

}

</code></pre>

<h3 id="cllherreraarriendopelisdto"><strong><code>cl/lherrera/arriendopelis/dto/</code></strong></h3>
<h4 id="arriendopelissrcmainjavacllherreraarriendopelisdtoarriendodtojava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/ArriendoDTO.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.dto;

import java.util.List;

import cl.lherrera.arriendopelis.modelo.Arriendo;

public class ArriendoDTO extends GenericDTO {

    private List&lt;Arriendo&gt; arriendos;

    public ArriendoDTO() {
        // TODO Auto-generated constructor stub
    }

    public ArriendoDTO(List&lt;Arriendo&gt; arriendos) {
        super();
        this.arriendos = arriendos;
    }

    public ArriendoDTO(List&lt;Arriendo&gt; arriendos, String mensaje, String codigo) {
        super(mensaje, codigo);
        // TODO Auto-generated constructor stub
        this.arriendos = arriendos;
    }

    public List&lt;Arriendo&gt; getArriendos() {
        return arriendos;
    }

    public void setArriendos(List&lt;Arriendo&gt; arriendos) {
        this.arriendos = arriendos;
    }

    @Override
    public String toString() {
        return &quot;ArriendoDTO [arriendos=&quot; + arriendos + &quot;]&quot;;
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisdtoclientedtojava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/ClienteDTO.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.dto;

import java.util.List;

import cl.lherrera.arriendopelis.modelo.Cliente;

public class ClienteDTO extends GenericDTO {

    private List&lt;Cliente&gt; clientes;

    public ClienteDTO() {
        // TODO Auto-generated constructor stub
    }

    public ClienteDTO(List&lt;Cliente&gt; clientes, String mensaje, String codigo) {
        super(mensaje, codigo);
        // TODO Auto-generated constructor stub
        this.clientes = clientes;
    }

    public List&lt;Cliente&gt; getClientes() {
        return clientes;
    }

    public void setClientes(List&lt;Cliente&gt; clientes) {
        this.clientes = clientes;
    }

    @Override
    public String toString() {
        return &quot;ClienteDTO [clientes=&quot; + clientes + &quot;]&quot;;
    }
}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisdtogenericdtojava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/GenericDTO.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.dto;

public class GenericDTO {

    private String mensaje;
    private String codigo;

    public GenericDTO() {
        // TODO Auto-generated constructor stub
    }

    public GenericDTO(String mensaje, String codigo) {
        super();
        this.mensaje = mensaje;
        this.codigo = codigo;
    }

    public String getMensaje() {
        return mensaje;
    }

    public void setMensaje(String mensaje) {
        this.mensaje = mensaje;
    }

    public String getCodigo() {
        return codigo;
    }

    public void setCodigo(String codigo) {
        this.codigo = codigo;
    }

    @Override
    public String toString() {
        return &quot;GenericDTO [mensaje=&quot; + mensaje + &quot;, codigo=&quot; + codigo + &quot;]&quot;;
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisdtopeliculadtojava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/dto/PeliculaDTO.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.dto;

import java.util.List;

import cl.lherrera.arriendopelis.modelo.Pelicula;

public class PeliculaDTO extends GenericDTO {
    private List&lt;Pelicula&gt; peliculas;

    public PeliculaDTO() {
        // TODO Auto-generated constructor stub
    }

    public PeliculaDTO(String mensaje, String codigo) {
        super(mensaje, codigo);
        // TODO Auto-generated constructor stub
    }

    public PeliculaDTO(List&lt;Pelicula&gt; peliculas, String mensaje, String codigo) {
        super(mensaje, codigo);
        this.peliculas = peliculas;
    }

    public List&lt;Pelicula&gt; getPeliculas() {
        return peliculas;
    }

    public void setPeliculas(List&lt;Pelicula&gt; peliculas) {
        this.peliculas = peliculas;
    }

    @Override
    public String toString() {
        return &quot;PeliculaDTO [peliculas=&quot; + peliculas + &quot;]&quot;;
    }

}

</code></pre>

<h3 id="cllherreraarriendopelismodelo"><strong><code>cl.lherrera.arriendopelis.modelo</code></strong></h3>
<h4 id="arriendopelissrcmainjavacllherreraarriendopelismodeloarriendojava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Arriendo.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.modelo;

import javax.persistence.CascadeType;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.persistence.OneToOne;

@Entity
public class Arriendo {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Integer id;
    private String inicio;
    private Integer duracion;

    @OneToOne(cascade = CascadeType.ALL)
    @JoinColumn(name = &quot;pelicula_id&quot;, referencedColumnName = &quot;id&quot;)
    private Pelicula pelicula;

    @ManyToOne
    @JoinColumn(name = &quot;cliente_id&quot;, nullable = false)
    private Cliente cliente;

    public Arriendo() {
        // TODO Auto-generated constructor stub
    }

    public Arriendo(Integer id, String inicio, Integer duracion, Pelicula pelicula, Cliente cliente) {
        super();
        this.id = id;
        this.inicio = inicio;
        this.duracion = duracion;
        this.pelicula = pelicula;
        this.cliente = cliente;
    }

    public Cliente getCliente() {
        return cliente;
    }

    public void setCliente(Cliente cliente) {
        this.cliente = cliente;
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getInicio() {
        return inicio;
    }

    public void setInicio(String inicio) {
        this.inicio = inicio;
    }

    public Integer getDuracion() {
        return duracion;
    }

    public void setDuracion(Integer duracion) {
        this.duracion = duracion;
    }

    public Pelicula getPelicula() {
        return pelicula;
    }

    public void setPelicula(Pelicula pelicula) {
        this.pelicula = pelicula;
    }

    @Override
    public String toString() {
        return &quot;Arriendo [id=&quot; + id + &quot;, inicio=&quot; + inicio + &quot;, duracion=&quot; + duracion + &quot;, pelicula=&quot; + pelicula + &quot;]&quot;;
    }
}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelismodeloclientejava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Cliente.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.modelo;

import java.util.List;

import javax.persistence.CascadeType;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.OneToMany;

@Entity
public class Cliente {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Integer id;
    private String nombre;

    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;cliente&quot;)
    private List&lt;Arriendo&gt; arriendos;

    public Cliente() {
        // TODO Auto-generated constructor stub
    }

    public Cliente(Integer id, String nombre, List&lt;Arriendo&gt; arriendos) {
        super();
        this.id = id;
        this.nombre = nombre;
        this.arriendos = arriendos;
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getNombre() {
        return nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public List&lt;Arriendo&gt; getArriendos() {
        return arriendos;
    }

    public void setArriendos(List&lt;Arriendo&gt; arriendos) {
        this.arriendos = arriendos;
    }

    @Override
    public String toString() {
        return &quot;Cliente [id=&quot; + id + &quot;, nombre=&quot; + nombre + &quot;, arriendos=&quot; + arriendos + &quot;]&quot;;
    }

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelismodelopeliculajava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/modelo/Pelicula.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.modelo;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

@Entity
public class Pelicula {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO) // https://www.objectdb.com/java/jpa/entity/generated
    private Integer id;
    private String titulo;
    private String descripcion;
    private Integer duracion;

    public Pelicula() {
    }

    public Pelicula(Integer id, String titulo, String descripcion, Integer duracion) {
        super();
        this.id = id;
        this.titulo = titulo;
        this.descripcion = descripcion;
        this.duracion = duracion;
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getTitulo() {
        return titulo;
    }

    public void setTitulo(String titulo) {
        this.titulo = titulo;
    }

    public String getDescripcion() {
        return descripcion;
    }

    public void setDescripcion(String descripcion) {
        this.descripcion = descripcion;
    }

    public Integer getDuracion() {
        return duracion;
    }

    public void setDuracion(Integer duracion) {
        this.duracion = duracion;
    }

    @Override
    public String toString() {
        return &quot;Pelicula [id=&quot; + id + &quot;, titulo=&quot; + titulo + &quot;, descripcion=&quot; + descripcion + &quot;, duracion=&quot; + duracion
                + &quot;]&quot;;
    }
}

</code></pre>

<h3 id="cllherreraarriendopelisservicio"><strong><code>cl.lherrera.arriendopelis.servicio</code></strong></h3>
<h4 id="arriendopelissrcmainjavacllherreraarriendopelisservicioarriendoservicejava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/ArriendoService.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.servicio;

import cl.lherrera.arriendopelis.dto.ArriendoDTO;
import cl.lherrera.arriendopelis.modelo.Arriendo;

public interface ArriendoService {

    // acá el servicio usualmente difiere de la petición del dao
    // pero para efectos del ejemplo se llamará igual.
    // es tambíen una confisión común el no diferenciar entre
    // las responsablidades de los servicios y la de
    // los repositorios. Por eso es que los repositorios
    // se implementan automáticamente y los servicios
    // es la lógica de negocio que nosotros desarrollamos
    // usando lo autómático del repositorio. donde sabemos
    // como funciona un findAll(). La única justificación
    // es que el findAll del servicio, llenará un DTO; pero
    // debería ser otro nombre.
    ArriendoDTO findAll();

    ArriendoDTO add(Arriendo arriendo);

}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisservicioclienteservicejava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/ClienteService.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.servicio;

import cl.lherrera.arriendopelis.dto.ClienteDTO;
import cl.lherrera.arriendopelis.modelo.Cliente;

public interface ClienteService {
    ClienteDTO findAll();

    ClienteDTO add(Cliente cliente);
}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisserviciopeliculaservicejava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicio/PeliculaService.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.servicio;

import cl.lherrera.arriendopelis.dto.PeliculaDTO;
import cl.lherrera.arriendopelis.modelo.Pelicula;

public interface PeliculaService {
    PeliculaDTO findAll();

    PeliculaDTO add(Pelicula pelicula);
}

</code></pre>

<h3 id="cllherreraarriendopelisservicioimpl"><strong><code>cl.lherrera.arriendopelis.servicioImpl</code></strong></h3>
<h4 id="arriendopelissrcmainjavacllherreraarriendopelisservicioimplarriendoserviceimpljava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/ArriendoServiceImpl.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.servicioImpl;

import java.util.ArrayList;
import java.util.List;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import cl.lherrera.arriendopelis.dao.ArriendoRepository;
import cl.lherrera.arriendopelis.dto.ArriendoDTO;
import cl.lherrera.arriendopelis.modelo.Arriendo;
import cl.lherrera.arriendopelis.servicio.ArriendoService;

@Service
public class ArriendoServiceImpl implements ArriendoService {

    private static final Logger log = LoggerFactory.getLogger(ArriendoServiceImpl.class);

    @Autowired
    private ArriendoRepository dao;
    private ArriendoDTO respuesta;

    @Override
    @Transactional(readOnly = true)
    public ArriendoDTO findAll() {
        respuesta = new ArriendoDTO(new ArrayList&lt;Arriendo&gt;(), &quot;Ha ocurrido un error&quot;, &quot;102&quot;);
        try {
            respuesta.setArriendos((List&lt;Arriendo&gt;) dao.findAll());

            respuesta.setMensaje(String.format(&quot;Se ha/n encontrado %d registro/s&quot;, respuesta.getArriendos().size()));

            respuesta.setCodigo(&quot;0&quot;);
        } catch (Exception e) {
            log.trace(&quot;Arriendo Service: Error en findAll&quot;, e);
        }
        return respuesta;
    }

    @Override
    @Transactional
    public ArriendoDTO add(Arriendo arriendo) {
        respuesta = new ArriendoDTO(new ArrayList&lt;Arriendo&gt;(), &quot;Ha ocurrido un error&quot;, &quot;104&quot;);
        try {
            dao.save(arriendo);
            respuesta.setMensaje(String.format(&quot;Se ha guardado correctamente el arriendo de la pelicula %s&quot;,
                    arriendo.getPelicula().getTitulo()));
            respuesta.setCodigo(&quot;0&quot;);
        } catch (Exception e) {
            log.trace(&quot;Arriendo Service: Error en add&quot;, e);
        }
        return respuesta;
    }
}

</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisservicioimplclienteserviceimpljava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/ClienteServiceImpl.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.servicioImpl;

import java.util.ArrayList;
import java.util.List;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import cl.lherrera.arriendopelis.dao.ClienteRepository;
import cl.lherrera.arriendopelis.dto.ClienteDTO;
import cl.lherrera.arriendopelis.modelo.Cliente;
import cl.lherrera.arriendopelis.servicio.ClienteService;

@Service
public class ClienteServiceImpl implements ClienteService {

    private static final Logger log = LoggerFactory.getLogger(ClienteServiceImpl.class);
    @Autowired
    private ClienteRepository dao;
    private ClienteDTO respuesta;

    @Override
    @Transactional(readOnly = true)
    public ClienteDTO findAll() {
        respuesta = new ClienteDTO(new ArrayList&lt;Cliente&gt;(), &quot;Ha ocurrido un error&quot;, &quot;102&quot;);
        try {
            respuesta.setClientes((List&lt;Cliente&gt;) dao.findAll());
            respuesta.setMensaje(String.format(&quot;Se ha/n encontrado %d registro/s&quot;, respuesta.getClientes().size()));

            respuesta.setCodigo(&quot;0&quot;);
        } catch (Exception e) {
            log.trace(&quot;Cliente Service: Error en findAll&quot;, e);
        }
        return respuesta;
    }

    @Override
    @Transactional
    public ClienteDTO add(Cliente cliente) {
        respuesta = new ClienteDTO(new ArrayList&lt;Cliente&gt;(), &quot;Ha ocurrido un error&quot;, &quot;104&quot;);
        try {
            dao.save(cliente);
            respuesta.setMensaje(String.format(&quot;Se ha guardado correctamente el cliente %s&quot;, cliente.getNombre()));

            respuesta.setCodigo(&quot;0&quot;);
        } catch (Exception e) {
            log.trace(&quot;Cliente Service: Error en add&quot;, e);
        }
        return respuesta;
    }
}
</code></pre>

<h4 id="arriendopelissrcmainjavacllherreraarriendopelisservicioimplpeliculaserviceimpljava"><code>/arriendopelis/src/main/java/cl/lherrera/arriendopelis/servicioImpl/PeliculaServiceImpl.java</code></h4>
<pre><code class="java">package cl.lherrera.arriendopelis.servicioImpl;

import java.util.ArrayList;
import java.util.List;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import cl.lherrera.arriendopelis.dao.PeliculaRepository;
import cl.lherrera.arriendopelis.dto.PeliculaDTO;
import cl.lherrera.arriendopelis.modelo.Pelicula;
import cl.lherrera.arriendopelis.servicio.PeliculaService;

@Service
public class PeliculaServiceImpl implements PeliculaService {

    private static final Logger log = LoggerFactory.getLogger(PeliculaServiceImpl.class);
    @Autowired
    private PeliculaRepository dao;

    private PeliculaDTO respuesta;

    @Override
    @Transactional(readOnly = true)
    public PeliculaDTO findAll() {
        respuesta = new PeliculaDTO(new ArrayList&lt;Pelicula&gt;(), &quot;Ha ocurrido un error&quot;, &quot;102&quot;);
        try {
            respuesta.setPeliculas((List&lt;Pelicula&gt;) dao.findAll());

            respuesta.setMensaje(String.format(&quot;Se ha/n encontrado %d registro/s&quot;, respuesta.getPeliculas().size()));

            respuesta.setCodigo(&quot;0&quot;);
        } catch (Exception e) {
            log.trace(&quot;Pelicula Service: Error en findAll&quot;, e);
        }
        return respuesta;
    }

    @Override
    @Transactional
    public PeliculaDTO add(Pelicula pelicula) {
        respuesta = new PeliculaDTO(new ArrayList&lt;Pelicula&gt;(), &quot;Ha ocurrido un error&quot;, &quot;104&quot;);
        try {
            dao.save(pelicula);
            respuesta.setMensaje(String.format(&quot;Se ha guardado correctamente la pelicula %s&quot;, pelicula.getTitulo()));

            respuesta.setCodigo(&quot;0&quot;);
        } catch (Exception e) {
            log.trace(&quot;Pelicula Service: Error en add&quot;, e);
        }
        return respuesta;
    }
}

</code></pre>

<h3 id="arriendopelissrcmainresources"><strong><code>/arriendopelis/src/main/resources</code></strong></h3>
<h4 id="templatesarriendoshtml"><code>/templates/arriendos.html</code></h4>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html
    th:replace=&quot;~{base :: layout(~{::title}, ~{::#contenido}, 'arriendos')}&quot;&gt;

&lt;head&gt;
&lt;title&gt;Arriendos&lt;/title&gt;

&lt;/head&gt;

&lt;body&gt;
    &lt;div id=&quot;contenido&quot; class=&quot;container&quot;&gt;
        &lt;div class=&quot;col-sm-2&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;col-sm-8&quot;&gt;
            &lt;h3&gt;Arriendos&lt;/h3&gt;
            &lt;!--  
                th:action: La acción a ejecutar, en este caso (/arriendos/agregar)
                th:object: El modelo que se captura en el controlador como @ModelAttribute.
                select th:field=&quot;*{pelicula}&quot;: Es el nombre con que irá en el formulario. name
                th:each: Por cada pelicula en ${peliculas} donde película viene del modelo del controlador.
                th:value=&quot;${cliente.id}: es el valor que se usa como identificador de cada elemento. 
                th:text: ${pelicula.titulo} accedemos al id de cada pelicula en peliculas
            --&gt;
            &lt;form th:action=&quot;@{/arriendos/agregar}&quot; method=&quot;post&quot;
                th:object=&quot;${arriendo}&quot;&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;label for=&quot;inicio&quot; class=&quot;col-4&quot;&gt;Inicio&lt;/label&gt;
                    &lt;div class=&quot;col-8&quot;&gt;
                        &lt;input class=&quot;form-control&quot; type=&quot;date&quot;
                            data-date format=&quot;mm-dd-yyyy&quot; id=&quot;inicio&quot; name=&quot;inicio&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;label for=&quot;duracion&quot; class=&quot;col-4&quot;&gt;Duración&lt;/label&gt;
                    &lt;div class=&quot;col-8&quot;&gt;
                        &lt;input class=&quot;form-control&quot; type=&quot;number&quot; value=&quot;&quot; id=&quot;duracion&quot;
                            name=&quot;duracion&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;label class=&quot;col-4&quot;&gt;Pelicula&lt;/label&gt;
                    &lt;div class=&quot;col-8&quot;&gt;
                        &lt;select th:field=&quot;*{pelicula}&quot;&gt;
                            &lt;option th:each=&quot;pelicula : ${peliculas}&quot;
                                th:value=&quot;${pelicula.id}&quot; th:text=&quot;${pelicula.titulo}&quot;&gt;&lt;/option&gt;
                        &lt;/select&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;label class=&quot;col-4&quot;&gt;Cliente&lt;/label&gt;
                    &lt;div class=&quot;col-8&quot;&gt;
                        &lt;select th:field=&quot;*{cliente}&quot;&gt;
                            &lt;option th:each=&quot;cliente : ${clientes}&quot; th:value=&quot;${cliente.id}&quot;
                                th:text=&quot;${cliente.nombre}&quot;&gt;&lt;/option&gt;
                        &lt;/select&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;div class=&quot;col-sm-12&quot;&gt;
                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Agregar&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-sm-2&quot;&gt;
            &lt;p&gt;&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<h4 id="templatesbasehtml"><code>/templates/base.html</code></h4>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html th:fragment=&quot;layout (titulo, contenido, menu)&quot;
    xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;

&lt;head&gt;
&lt;title th:replace=&quot;${titulo}&quot;&gt;Layout Title&lt;/title&gt;

&lt;!-- Bootstrap --&gt;
&lt;link rel=&quot;stylesheet&quot;
    href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css&quot;
    integrity=&quot;sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ&quot;
    crossorigin=&quot;anonymous&quot;&gt;
&lt;!-- Bootstrap --&gt;
&lt;/head&gt;

&lt;body&gt;

    &lt;!-- MENÚ COMÚN SITIO --&gt;
    &lt;!--  
        La condición es la siguiente: si el menú pasado por parámetro en otra web se guarda en el
        tercer parámetro ${menu}.

        (|${menu}| == 'home')?, significa que |${menu}| es para poder hacer un reemplazo literal, el parámetro
        debe esta en ${}; pero si además está entro ||, es para hacer un reemplazo literal, que se exige si está
        dentro de @{}. entonces : (|${menu}| == 'home')? quiere decir: si lo que está en el parámetro menu, es 'home'.
        entonces @{(|${menu}| == 'home')? '#' : '/home', quiere decir que si esa condición se cumple, entonces el link
        será '#', es decir que no irá a ninguna parte si estamos en home, de otra forma se imprime el link que lleva
        a home.
    --&gt;
    &lt;ul class=&quot;nav justify-content-end&quot;&gt;
        &lt;li class=&quot;nav-item&quot;&gt;&lt;a class=&quot;nav-link active&quot;
            th:href=&quot;@{(|${menu}| == 'home')? '#' : '/home'}&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;nav-item&quot;&gt;&lt;a class=&quot;nav-link active&quot;
            th:href=&quot;@{(|${menu}| == 'arriendos')? '#' : '/arriendos'}&quot;&gt;Arriendos&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;nav-item&quot;&gt;&lt;a class=&quot;nav-link active&quot;
            th:href=&quot;@{ (|${menu}| == 'clientes')? '#' : '/clientes'}&quot;&gt;Clientes&lt;/a&gt;&lt;/li&gt;
        &lt;li class=&quot;nav-item&quot;&gt;&lt;a class=&quot;nav-link active&quot;
            th:href=&quot;@{ (|${menu}| == 'peliculas')? '#' : '/peliculas'}&quot;&gt;Peliculas&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;!-- MENÚ COMÚN SITIO --&gt;

    &lt;div th:replace=&quot;${contenido}&quot;&gt;
        &lt;p&gt;Este es el contenido por defecto&lt;/p&gt;
    &lt;/div&gt;
    &lt;!-- Bootstrap JS --&gt;
    &lt;script
        src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js&quot;
        integrity=&quot;sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn&quot;
        crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
    &lt;!-- Bootstrap JS --&gt;
    &lt;footer&gt; Pié de página &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h4 id="templatesclienteshtml"><code>/templates/clientes.html</code></h4>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html
    th:replace=&quot;~{base :: layout(~{::title}, ~{::#contenido}, 'clientes')}&quot;&gt;

&lt;head&gt;
&lt;title&gt;Clientes&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

    &lt;div id=&quot;contenido&quot; class=&quot;container&quot;&gt;
        &lt;div class=&quot;col-sm-2&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;col-sm-8&quot;&gt;
            &lt;h3&gt;Clientes&lt;/h3&gt;
            &lt;form th:action=&quot;@{/clientes/agregar}&quot; method=&quot;post&quot;
                th:object=&quot;${cliente}&quot;&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;label for=&quot;nombre&quot; class=&quot;col-sm-4&quot;&gt;Nombre&lt;/label&gt;
                    &lt;div class=&quot;col-sm-8&quot;&gt;
                        &lt;input class=&quot;form-control&quot; type=&quot;text&quot; id=&quot;nombre&quot; name=&quot;nombre&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;div class=&quot;col-sm-12&quot;&gt;
                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Agregar&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-sm-2&quot;&gt;
            &lt;p&gt;&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h4 id="templateshomehtml"><code>/templates/home.html</code></h4>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html
    th:replace=&quot;~{base :: layout(~{::title}, ~{::#contenido}, 'home')}&quot;&gt;


&lt;title&gt;home&lt;/title&gt;

&lt;div id=&quot;contenido&quot;&gt;
    &lt;div class=&quot;container&quot;&gt;
        &lt;div class=&quot;col-sm-2&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;col-sm-8&quot;&gt;
            &lt;h3&gt;Detalle&lt;/h3&gt;
            &lt;table class=&quot;table&quot;&gt;
                &lt;thead class=&quot;thead-light&quot;&gt;
                    &lt;tr&gt;
                        &lt;th scope=&quot;col&quot;&gt;Identificador&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Inicio&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Duracion&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Pelicula&lt;/th&gt;
                        &lt;th scope=&quot;col&quot;&gt;Cliente&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                    &lt;tr th:each=&quot;arriendo: ${arriendos}&quot;&gt;
                        &lt;td th:text=&quot;${arriendo.id}&quot; /&gt;
                        &lt;td th:text=&quot;${arriendo.inicio}&quot; /&gt;
                        &lt;td th:text=&quot;${arriendo.duracion}&quot; /&gt;
                        &lt;td th:text=&quot;${arriendo.pelicula.titulo}&quot; /&gt;
                        &lt;td th:text=&quot;${arriendo.cliente.nombre}&quot; /&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-sm-2&quot;&gt;
            &lt;p&gt;&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/div&gt;


&lt;/html&gt;
</code></pre>

<h4 id="templatespeliculashtml"><code>/templates/peliculas.html</code></h4>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html
    th:replace=&quot;~{base :: layout(~{::title}, ~{::#contenido}, 'peliculas')}&quot;&gt;

&lt;head&gt;
&lt;title&gt;Peliculas&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

    &lt;div id=&quot;contenido&quot; class=&quot;container&quot;&gt;
        &lt;div class=&quot;col-sm-2&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;col-sm-8&quot;&gt;
            &lt;h3&gt;Peliculas&lt;/h3&gt;
            &lt;form th:action=&quot;@{/peliculas/agregar}&quot; method=&quot;post&quot;
                th:object=&quot;${pelicula}&quot;&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;label for=&quot;titulo&quot; class=&quot;col-4&quot;&gt;Titulo&lt;/label&gt;
                    &lt;div class=&quot;col-8&quot;&gt;
                        &lt;input class=&quot;form-control&quot; type=&quot;text&quot; id=&quot;titulo&quot; name=&quot;titulo&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;label for=&quot;descripcion&quot; class=&quot;col-4&quot;&gt;Descripcion&lt;/label&gt;
                    &lt;div class=&quot;col-8&quot;&gt;
                        &lt;input class=&quot;form-control&quot; type=&quot;text&quot; id=&quot;descripcion&quot;
                            name=&quot;descripcion&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;label for=&quot;duracion&quot; class=&quot;col-4&quot;&gt;Duracion&lt;/label&gt;
                    &lt;div class=&quot;col-8&quot;&gt;
                        &lt;input class=&quot;form-control&quot; type=&quot;number&quot; id=&quot;duracion&quot;
                            name=&quot;duracion&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group row&quot;&gt;
                    &lt;div class=&quot;col-sm-12&quot;&gt;
                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Agregar&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
        &lt;div class=&quot;col-sm-2&quot;&gt;
            &lt;p&gt;&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<h4 id="applicationproperties"><code>/application.properties</code></h4>
<pre><code class="conf">spring.thymeleaf.check-template-location=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=LEGACYHTML5
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.servlet.content-type=text/html
spring.thymeleaf.cache=false
# Configuración de jpa
spring.jpa.generate-ddl=true
spring.jpa.database-platform=cl.lherrera.arriendopelis.SQLiteDialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

</code></pre>

<h4 id="databaseproperties"><code>/database.properties</code></h4>
<pre><code class="conf">driverClassName=org.sqlite.JDBC
url=jdbc:sqlite:basedatos.db
username=jpaspring
password=sa

</code></pre>

<h3 id="pomxml"><strong><code>/pom.xml</code></strong></h3>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;
        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;cl.lherrera.arriendopelis&lt;/groupId&gt;
    &lt;artifactId&gt;arriendopelis&lt;/artifactId&gt;
    &lt;version&gt;20.0.0&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;
    &lt;name&gt;arriendopelis&lt;/name&gt;
    &lt;description&gt;lectura 1 relaciones&lt;/description&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
            &lt;exclusions&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;
                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;
                &lt;/exclusion&gt;
            &lt;/exclusions&gt;
        &lt;/dependency&gt;

        &lt;!-- SQLITE - SUPPORT --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.xerial&lt;/groupId&gt;
            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!-- SQLITE - SUPPORT # --&gt;

    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;

</code></pre>

<hr />
<h1 id="todo">TODO</h1>
<hr />
<ul>
<li>Mejorar la vista de la aplicación.</li>
<li>Aumentar servicios.</li>
<li>Crear un inicio de sesión.</li>
<li>paginar los resultados.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/vendor.a0c4167b.min.js"></script>
      <script src="../../../../assets/javascripts/bundle.fb26dd1d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../../../..",
          features: [],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>