


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.6">
    
    
      
        <title>Lectura 2: Spring Framework - Java Full Stack Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4b9ffd7b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lectura-2-spring-framework" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../../.." title="Java Full Stack Docs" class="md-header-nav__button md-logo" aria-label="Java Full Stack Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Java Full Stack Docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Lectura 2: Spring Framework
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Java Full Stack Docs" class="md-nav__button md-logo" aria-label="Java Full Stack Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Java Full Stack Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../ejercicios/repaso/teoria/poo/herencia/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="lectura-2-spring-framework">Lectura 2: Spring Framework</h1>
<hr />
<h1 id="spring-framework">Spring Framework</h1>
<hr />
<h2 id="introduccion">Introducción</h2>
<p>Se explica y justifica la utilización del Framework.</p>
<h2 id="motivacion">Motivación</h2>
<p>Justificación de Spring con el trabajo modular, que ya posee herramientas con mejores características que ya hemos trabajados usando por ejemplo JDBC, y su mejora en Spring sería JDBC TEMPLATE.</p>
<h2 id="que-es-un-framework">¿Qué es un Framework?</h2>
<p>(lectura) Reducir tiempo, orden, usar que implementamos soluciones de varias formas; pero utilizando un marco de trabajo, nos apegamos a las formas que disponga Spring.</p>
<h2 id="entonces-que-es-spring-framework">Entonces, ¿Qué es Spring Framework?</h2>
<p>(Lectura) ...</p>
<p>Se muestran los módulos de Spring, no hay que entenderlos, solo se muestran para conocer la estructura.</p>
<h2 id="introduccion-a-sts">Introducción a STS</h2>
<p>Se muestran tres formas de crear un proyecto Spring.</p>
<p>Primara forma.</p>
<p>(Lectura) descargar la extensión de Spring en el <code>marcketplace</code></p>
<p>Esta la probé con eclipse 2019 - 12 y funciona con cmd + n, aparece Spring.</p>
<p>(Lectura) Descargando STS.</p>
<p>(Lectura) Desde el <code>Initializr</code> - web</p>
<p>Incluimos el módulo de <code>web</code> y se sigue la lectura.</p>
<p><strong>Generamos un proyecto demo con el módulo <code>spring web</code> de prueba</strong></p>
<h2 id="curiosidades-del-archivo-pomxml">Curiosidades del archivo POM.xml</h2>
<p>(lectura), explicación de etiquetas: <code>parent</code>, <code>properties</code>, <code>plugin</code></p>
<h2 id="iniciando-proyecto-spring-con-sts-13">Iniciando proyecto <code>Spring</code> con STS. <em>13</em></h2>
<p><strong>Boot - dashboard</strong> es la opción para poder ejecutar un proyecto <code>Sring-boot</code>, en STS está más claro, que con el plugin descargado del <code>marcketplace</code> con eclipse. Pero en ambas representadas por un botón verde.</p>
<p>Para poder incluir una página, se realiza en <code>/demo001/src/main/resources/static/index.html</code>, decir que no tenemos un <code>webcontent</code> donde poner los <code>jsp</code>, mientras tanto, irán en la carpeta <code>resources</code>. </p>
<p>Si revisamos las dependencias de Maven, podremos ver que está un <code>Apache Tomcat</code>, es desde donde realmente se está ejecutando nuestra aplicación. Los directorios varían un poco desde los <code>servlets</code>, pero es que hasta ahora Sprint presenta una forma de estructura del proyecto distinta a lo que vimos.</p>
<p>(Lectura), en la lectura está el paso a paso del siguiente proyecto:</p>
<p>Estructura:</p>
<pre><code>./
├── HELP.md
├── mvnw
├── mvnw.cmd
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── com
│   │   │       └── example
│   │   │           └── demo
│   │   │               └── Demo001Application.java
│   │   └── resources
│   │       ├── application.properties
│   │       ├── static
│   │       │   └── index.html
│   │       └── templates
</code></pre>

<p>Donde todo está generado automáticamente por el inicializador. Excepto <code>index.html</code>. se muestra su contenido a continuación:</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Demo 001&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;Test:Demo 001.

&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<p><code>http://localhost:8080/</code></p>
<hr />
<h1 id="beans">Beans</h1>
<hr />
<h2 id="introduccion-16">Introducción. <em>16</em></h2>
<p>(Lectura)</p>
<h2 id="que-es-ioc-inversion-de-control-16">¿Qué es IoC (Inversión de control)? <em>16</em></h2>
<ul>
<li>
<p>L: cambia el concepto de que el programador tenga que incorporar y crear clases, se encarga una entidad externa de incluirlos en tiempo de ejecución.</p>
</li>
<li>
<p>L: el programador era quien incorporaba clases u objetos (utilizando new nombre_de_clase), ahora se encarga Spring de incorporarlos en tiempo de ejecución del proyecto.</p>
</li>
<li>
<p>L: contenedor  de  IoC  y  es  él  que  se  encarga  de  hacer  la  inyección  de dependencias de las clases y objetos, sin la necesidad escribir la llamada directamente en el código.</p>
</li>
<li>
<p>L: se encarga de relacionarlos, configurar y manejar su ciclo de vida completo (desde la creación hasta la destrucción de estos), es el núcleo de la aplicación.</p>
</li>
</ul>
<h2 id="que-es-un-beans-17">¿Qué es un Beans? <em>17</em></h2>
<p>Como un <code>pojo</code> pero...</p>
<ul>
<li>Debe tener un constructor por defecto (sin argumentos).</li>
<li>Debe tener todas sus atributos privados </li>
<li>Debe tener para cada atributo su método <code>getter</code> y <code>setter</code>.</li>
</ul>
<h2 id="como-manejo-un-beans-17">¿Cómo manejo un Beans? <em>17</em></h2>
<p>Dos formas de manejar un beans desde Spring.</p>
<p>Forma 1 utilizando un archivo <code>xml</code></p>
<p>Estructura:</p>
<pre><code>./
├── HELP.md
├── mvnw
├── mvnw.cmd
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── com.beansEjemplos
│   │   │           └── BaseEjemplosApplication.java
│   │   │   └── com.beansEjemplos.beansxml
│   │   │           ├── Persona.java
│   │   │           └── beans.xml
</code></pre>

<p><code>└── BaseEjemplosApplication.java</code></p>
<pre><code class="java">package com.beansEjemplos;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import com.beansEjemplos.beansxml.Persona;

public class BaseEjemplosApplication {

    /**
     * Ejecutamos este archivo como una aplicación Spring y
     * veremos los resultados que se presentan en la
     * lectura. 
     */
    public static void main(String[] args) {
        // todo lo del paquete es compilado e incluido 
        // relativamente desde su paquete en el 
        // servidor
        String path = &quot;com/beansEjemplos/beansxml/beans.xml&quot;;
        ApplicationContext appContext = new ClassPathXmlApplicationContext(path);
        Persona p = appContext.getBean(Persona.class);

        System.out.println(p.toString());
    }
}
</code></pre>

<p><code>├── Persona.java</code></p>
<pre><code class="java">package com.beansEjemplos.beansxml;

public class Persona {
    private String nombre;
    private int edad;

    public Persona() {
    }

    public String getNombre() {
        return nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public int getEdad() {
        return edad;
    }

    public void setEdad(int edad) {
        this.edad = edad;
    }

    public String toString() {
        return &quot;Nombre: &quot; + this.nombre + &quot;, Edad:&quot; + this.edad;
    }
}
</code></pre>

<p><code>beans.xml</code></p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot; 
http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;
    &lt;bean id=&quot;Persona&quot; class=&quot;com.beansEjemplos.beansxml.Persona&quot;&gt;
        &lt;property name=&quot;nombre&quot; value=&quot;Cristian XML&quot; /&gt;
        &lt;property name=&quot;edad&quot; value=&quot;29&quot; /&gt;
    &lt;/bean&gt;
&lt;/beans&gt;
</code></pre>

<p>Se ejecuta como aplicación Spring y se obtiene el valor del beans que se inició en el xml.</p>
<h2 id="anotaciones-en-spring">Anotaciones en Spring</h2>
<p>Esta es la segunda forma que posee Spring, para cargar beans.</p>
<p>(Seguir lectura)</p>
<p>Son solo definiciones, iremos viendo estas anotaciones a medida que avancemos con el documento</p>
<ul>
<li><strong><code>@Component</code></strong>: Indica que un objeto es de tipo componente. Es el general e informa a Spring que lo considere un componente. </li>
<li><strong><code>@Controller</code></strong>: Indica que un objeto es de tipo controlador, se encarga de controlar la comunicación entre el usuario y la aplicación. </li>
<li><strong><code>@Repository</code></strong>: Indica que es un objeto de tipo repositorio y se encarga de implementar un almacén de datos, o sea, es el que permite que se almacene información de una base de datos en el contenedor. Spring agrega otro tipo de servicios de bases de datos a este componente. 
<strong><code>@Service</code></strong>:  Es  el  encargado  de  gestionar  la  operación  de  negocios,  agrupa  varias  llamadas simultáneas a repositorios.</li>
</ul>
<p><strong><code>@Conﬁguration</code></strong>: Indica que la clase posee la configuración principal del proyecto. 
<strong><code>@EnableAutoConﬁguration</code></strong>: Indica que se aplicará la configuración automática. 
<strong><code>@ComponentScan</code></strong>: Ayuda a localizar elementos etiquetados con otras anotaciones. 
<strong><code>@SpringBootApplication</code></strong>: Engloba las tres anotaciones anteriores, <code>@Conﬁguration</code>, <code>@EnableAutoConﬁguration</code> y <code>@ComponentScan</code>. 
<strong><code>@Autowired</code></strong>: Spring realiza la inyección de dependencia sobre el atributo seleccionado. 
<strong><code>@PathVariable</code></strong>: Indica con que variable de la URL se relaciona el parámetro que se está usando la anotación. 
<strong><code>@Bean</code></strong>: Indica que la clase seleccionada es un beans.</p>
<p><a href="https://docs.spring.io/spring-framework/docs/current/ja vadoc-api/org/springframework/context/annotation/Conﬁguration.html">https://docs.spring.io/spring-framework/docs/current/ja vadoc-api/org/springframework/context/annotation/Conﬁguration.html</a></p>
<h2 id="incorporando-anotaciones-21">Incorporando anotaciones <em>21</em></h2>
<p>Segunda manera de integrar los beans e nuestro proyecto. Utilizando algunas de las anotaciones que se exponen:</p>
<p>Es importante dejar que Spring construya una app nueva y modificamos el main que propone para evitar errores inesperados que nos detenga la dinámica.</p>
<pre><code>src
│└── cl.lherrera
│        ├── Demo001Application.java
│└── cl.lherrera.beans
│        └── Persona.java
│└── cl.lherrera.conf
│        └── AppConfig.java
</code></pre>

<p><code>/demo001/src/main/java/cl/lherrera/beans/Persona.java</code></p>
<pre><code class="java">package cl.lherrera.beans;

import org.springframework.beans.factory.annotation.Value;

public class Persona {
    @Value(&quot;Foo Bar bazio&quot;)
    private String nombre;
    @Value(&quot;29&quot;)
    private int edad;

    // no olvidar poner público para el alcance de otros paquetes.
    public Persona() {
    }

    public String getNombre() {
        return nombre;
    }

    public void setNombre(String nombre) {
        this.nombre = nombre;
    }

    public int getEdad() {
        return edad;
    }

    public void setEdad(int edad) {
        this.edad = edad;
    }

    public String toString() {
        return &quot;Nombre: &quot; + this.nombre + &quot;, Edad:&quot; + this.edad;
    }
}
</code></pre>

<p><code>/demo001/src/main/java/cl/lherrera/conf/AppConfig.java</code></p>
<pre><code class="java">package cl.lherrera.conf;


import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import cl.lherrera.beans.Persona;

@Configuration
public class AppConfig {
    @Bean
    public Persona persona() {
        return new Persona();
    }
}

</code></pre>

<p><code>/demo001/src/main/java/cl/lherrera/Demo001Application.java</code></p>
<p>El nombre de la clase varía según el nombre seleccionado cuando se inicializa la aplicación.</p>
<pre><code class="java">package cl.lherrera;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

import cl.lherrera.beans.Persona;
import cl.lherrera.conf.AppConfig;

@SpringBootApplication
public class Demo001Application {

    public static void main(String[] args) {
        SpringApplication.run(Demo001Application.class, args);

        ApplicationContext appContext = new AnnotationConfigApplicationContext(AppConfig.class);
        Persona p = appContext.getBean(Persona.class);
        System.out.println(p.toString());

    }

}
</code></pre>

<hr />
<h1 id="logs-24">Logs <em>24</em></h1>
<hr />
<h2 id="introduccion-24">Introducción <em>24</em></h2>
<p>(Lectura) - se realizará un ejemplo de incorporar logs.</p>
<h2 id="que-es-un-log-24">¿Qué es un Log? <em>24</em></h2>
<p>(Lectura) -  se define en la lectura. Definición del tipo de salida del log:</p>
<ul>
<li>DEBUG: Son los mensajes de depuración, son útiles para obtener el comportamiento mientras se desarrolla la aplicación. Se representa de color verde. </li>
<li>INFO: Son los mensajes que muestran información del programa durante la ejecución, por ejemplo versiones. Se representa de color verde. </li>
<li>WARN: Son mensajes de alerta por situaciones anómalas de la ejecución, pero no afectan el funcionamiento del sistema. Se representa de color amarillo. </li>
<li>ERROR: Son mensajes que muestran una situación de errores en la ejecución, aunque el programa siga funcionando, puede ser afectado. Por ejemplo, un archivo que no existe. Se representa de color rojo. FATAL: Son mensajes Críticos, son los que hace que el programa aborte la ejecución y se detenga. Se representa de color rojo.</li>
</ul>
<h2 id="generando-logs-25">Generando logs <em>25</em></h2>
<p>La implementación del log, ya viene en el paquete <code>slf4j</code> integrado a Spring. Por lo tanto solamente nos limitamos a llamar nuestro log de allí y no desde donde estábamos acostumbrados <code>Logger.getLog...</code>.</p>
<p>El archivos de propiedades posee reglas y no es tan libre como los archivos de configuración que utilizamos con Servlets, o una app java. este posee configuraciones establecidas que nos ayudan a definir algunas cosas estandars, como por ejemplo el nombre que tendrá el archivo de log entre otros.</p>
<p><code>https://docs.spring.io/spring-boot/docs/current/reference/ht ml/boot-features-logging.html</code></p>
<p>Estructura:</p>
<pre><code>./
├── HELP.md
├── mvnw
├── mvnw.cmd
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── cl
│   │   │       └── lherrera
│   │   │           └── Logs001Application.java
│   │   └── resources
│   │       ├── application.properties
│   │       ├── static
│   │       └── templates


</code></pre>

<p>NO OLVIDAR QUE LAS PROPIEDADES NO DEBEN SOBRARLES ESPACIOS EN BLANCO
POR QUE PUEDEN PRODUCIR PROBLEMAS.</p>
<p>Que no se construya el <code>app.log</code> después del <code>refresh</code> en el raíz, es un indicio que algo no anda bien. </p>
<p><code>/logs001/src/main/resources/application.properties</code></p>
<pre><code># Propiedades del log
logging.file.name=app.log
logging.file.max-size=10MB
logging.level.root=INFO
logging.level.org.springframework.web=DEBUG
</code></pre>

<p><code>/logs001/src/main/java/cl/lherrera/Logs001Application.java</code></p>
<pre><code class="java">package cl.lherrera;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Logs001Application {

    private final static Logger logger = LoggerFactory.getLogger(Logs001Application.class);

    public static void main(String[] args) {
        SpringApplication.run(Logs001Application.class, args);

        logger.debug(&quot;debug log&quot;);
        logger.info(&quot;info log&quot;); 
        logger.warn(&quot;warning log&quot;); 
        logger.error(&quot;error log&quot;);
    }
}
</code></pre>

<hr />
<h1 id="proyecto-controlador-vista-28">Proyecto Controlador-Vista <em>28</em></h1>
<p>En este proyecto usaremos una librería que nos ayuda a manipular páginas estáticas. Se puede incluir desde la concepción del proyecto incluyendo <code>spring web</code> y <code>thymeleaf</code>, este último es quien nos da el poder de manipulación. Significa hoja de tomillo que es su logo.</p>
<p>Estructura</p>
<pre><code>./
├── HELP.md
├── mvnw
├── mvnw.cmd
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── cl
│   │   │       └── lherrera
│   │   │           ├── EjemplomvApplication.java
│   │   │           └── controller
│   │   │               └── HomeController.java
│   │   └── resources
│   │       ├── application.properties
│   │       ├── static
│   │       │   └── data.txt
│   │       └── templates
│   │           └── main.html
</code></pre>

<p>Es un proyecto que interactúa con la vista, desde una petición GET a un controlador. No olvidar incluir <code>thymeleaf</code>, cuando se esté creando el proyecto.</p>
<p><code>/ejemplomv/pom.xml</code></p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;
        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;cl.lherrera&lt;/groupId&gt;
    &lt;artifactId&gt;beansAnotados&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;ejemplomv&lt;/name&gt;
    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
            &lt;exclusions&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;
                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;
                &lt;/exclusion&gt;
            &lt;/exclusions&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;

</code></pre>

<p><code>/ejemplomv/src/main/resources/static/data.txt</code></p>
<pre><code>PRODUCTO UNO 
PRODUCTO DOS 
PRODUCTO TRES
</code></pre>

<p><code>/ejemplomv/src/main/resources/templates/main.html</code></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Página - muestra&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;h1&gt;Página de productos&lt;/h1&gt;
    &lt;p th:text=&quot;'Producto 1: ' + ${nombre1} + '!'&quot; /&gt;
    &lt;p th:text=&quot;'Producto 2: ' + ${nombre2} + '!'&quot; /&gt;
    &lt;p th:text=&quot;'Producto 3: ' + ${nombre3} + '!'&quot; /&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<p><code>/ejemplomv/src/main/java/cl/lherrera/controller/HomeController.java</code></p>
<pre><code class="java">package cl.lherrera.controller;

import java.io.BufferedReader;
import java.io.FileReader;
import java.util.ArrayList;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
public class HomeController {

    // acá es una interfaz Logger.
    private final static Logger logger = LoggerFactory.getLogger(HomeController.class);

    @RequestMapping(&quot;/&quot;)
    public String servicioImprime(Model modelo) {
        String nombre = &quot;src/main/resources/static/data.txt&quot;;
        ArrayList&lt;String&gt; p = new ArrayList&lt;String&gt;();
        try {
            FileReader fr = new FileReader(nombre);

            // buffer inyectado !!
            BufferedReader br = new BufferedReader(fr);
            String data = br.readLine();
            while (data != null) {
                p.add(data);
                data = br.readLine();
            }
            br.close();
            fr.close();
        } catch (Exception e) {
            logger.error(&quot;Error leyendo el fichero &quot; + nombre + &quot;: &quot; + e);
        }
        modelo.addAttribute(&quot;nombre1&quot;, p.get(0));
        modelo.addAttribute(&quot;nombre2&quot;, p.get(1));
        modelo.addAttribute(&quot;nombre3&quot;, p.get(2));
        return &quot;main&quot;;
    }

}
</code></pre>

<p><code>/ejemplomv/src/main/java/cl/lherrera/EjemplomvApplication.java</code></p>
<pre><code class="java">package cl.lherrera;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class EjemplomvApplication {

    public static void main(String[] args) {
        SpringApplication.run(EjemplomvApplication.class, args);
    }

}

</code></pre>

<p>Resultado:</p>
<pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;title&gt;Página - muestra&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Página de productos&lt;/h1&gt;&lt;p &gt;Producto 1: PRODUCTO UNO !&lt;/p&gt;&lt;p &gt;Producto 2: PRODUCTO DOS !&lt;/p&gt;&lt;p &gt;Producto 3: PRODUCTO TRES!&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>

<p><code>http://localhost:8080/</code></p>
<p>La petición se realiza a <code>/</code>, ya que no se solicita ningún otro <code>endpoint</code>.</p>
<hr />
<h1 id="probar">Probar</h1>
<hr />
<ul>
<li>Cambiar los <code>endpoints</code>.</li>
<li>Usar un <code>foreach</code> :: <code>https://www.baeldung.com/thymeleaf-iteration</code></li>
</ul>
<pre><code class="html">&lt;tr th:each=&quot;student: ${students}&quot;&gt;
    &lt;td th:text=&quot;${student.id}&quot; /&gt;
    &lt;td th:text=&quot;${student.name}&quot; /&gt;
&lt;/tr&gt;
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/vendor.a0c4167b.min.js"></script>
      <script src="../../../../assets/javascripts/bundle.fb26dd1d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../../../..",
          features: [],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>