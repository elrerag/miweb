


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.6">
    
    
      
        <title>Archivos - Java Full Stack Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4b9ffd7b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#archivos" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../../.." title="Java Full Stack Docs" class="md-header-nav__button md-logo" aria-label="Java Full Stack Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Java Full Stack Docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Archivos
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Java Full Stack Docs" class="md-nav__button md-logo" aria-label="Java Full Stack Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Java Full Stack Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../poo/herencia/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#escribir-un-archivo" class="md-nav__link">
    Escribir un archivo
  </a>
  
    <nav class="md-nav" aria-label="Escribir un archivo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-escritura-de-un-archivo-en-la-raiz-del-proyecto" class="md-nav__link">
    Ejemplo de escritura de un archivo en la raíz del proyecto:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-autos-en-archivo" class="md-nav__link">
    Ejercicio: Autos en archivo.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leer-un-archivo" class="md-nav__link">
    Leer un archivo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicio-de-archivo-a-una-lista" class="md-nav__link">
    Ejercicio: De archivo a una lista.
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <blockquote>
<h1 id="archivos">Archivos</h1>
<blockquote>
<ul>
<li>Escribir un archivo</li>
</ul>
</blockquote>
</blockquote>
<h2 id="escribir-un-archivo"><strong>Escribir un archivo</strong></h2>
<ul>
<li>
<p>Para escribir un archivo utilizamos dos clases:</p>
</li>
<li>
<p><code>java.io.FileWriter</code>: Esta clase en su constructor, arroja una excepción, es por eso que cuando hacemos el <code>new FileWriter(nombreDelArchivo)</code>, pueden pasar muchas cosas para que este archivo pueda ser creado. Si esto ocurre, será alertado con esta excepción, por lo que hay que controlarlo cuando la estemos utilizando las clases <code>java.io.PrintWriter &amp; java.io.FileWriter</code></p>
</li>
</ul>
<pre><code class="java">/**
* Constructs a FileWriter object given a file name.
*
* @param fileName  String The system-dependent filename.
* @throws IOException  if the named file exists but is a directory rather
*                  than a regular file, does not exist but cannot be
*                  created, or cannot be opened for any other reason
*/
public FileWriter(String fileName) throws IOException {
    super(new FileOutputStream(fileName));
}
</code></pre>

<ul>
<li><code>java.io.PrintWriter</code>, que se encargará de ir agregando las lineas a nuestro archivo</li>
<li>Debemos importar la clase <code>IOException</code>. para poder manejar la excepción lanzada por <code>java.io.FileWriter</code>.</li>
</ul>
<h3 id="ejemplo-de-escritura-de-un-archivo-en-la-raiz-del-proyecto">Ejemplo de escritura de un archivo en la raíz del proyecto:</h3>
<pre><code class="java">package cl.lherrera.java004;

import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

public class Principal {

    public static void main(String[] args) {

        FileWriter fw;
        try {
            fw = new FileWriter(&quot;salida.txt&quot;);
            PrintWriter pr = new PrintWriter(fw);
            pr.println(&quot;Hola mundo...&quot;);

            pr.close();
            fw.close();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }

}
</code></pre>

<ul>
<li>
<p>Podemos ahorrar código y problemas como que el <code>FileWriter</code> quede abierto y que se lance una excepción sin que esta sea cerrada. Para evitar este problema, es que se diseña un <code>try</code> especial que contiene una especie de sección de atributos, donde se definirán los objetos que, una vez terminado el <code>try</code>, cerrará las clases.</p>
</li>
<li>
<p>Veamos el mismo ejemplo usando este <code>try</code> especial.</p>
</li>
<li>
<p>Además de todas las ventajas funcionales, este <code>try</code>, proporciona una mejor lectura del código.</p>
</li>
<li><code>// https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</code></li>
</ul>
<pre><code class="Java">package cl.lherrera.java004;

import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

public class Principal {

    public static void main(String[] args) {

        try (
            FileWriter fw = new FileWriter(&quot;salida.txt&quot;);
            PrintWriter pr = new PrintWriter(fw);) {
            // cuerpo del try...
            pr.println(&quot;Hola mundo...&quot;);
        } catch (IOException e) {
            System.out.println(e.getMessage());
        }

    }

}

</code></pre>

<h3 id="ejercicio-autos-en-archivo"><strong>Ejercicio: Autos en archivo.</strong></h3>
<ul>
<li>Crear una descripción de tres autos (lista, arreglo, lo que estimen conveniente). <ul>
<li>Número de puertas.</li>
<li>Color.</li>
<li>Año.</li>
<li>Marca.</li>
</ul>
</li>
<li>Escribir en un archivo llamado <code>autos.csv</code>, donde irán estas tres líneas con la información de los autos.</li>
<li>Hay que tener en cuenta, que este archivo no se reutiliza muy comúnmente, es para un envío no para almacenaje, para estas tareas usamos la base de datos.</li>
</ul>
<pre><code class="Java">package cl.lherrera.java004;

import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;

public class Principal {

    public static void main(String[] args) {
        List&lt;String[]&gt; autos = new ArrayList&lt;&gt;();

        String[] auto1 = {&quot;5&quot;, &quot;rojo&quot;, &quot;2019&quot;, &quot;Tesla&quot;};
        String[] auto2 = {&quot;3&quot;, &quot;rojo&quot;, &quot;2000&quot;, &quot;Nissan&quot;};
        String[] auto3 = {&quot;5&quot;, &quot;azul&quot;, &quot;2010&quot;, &quot;Mazda&quot;};

        autos.add(auto1);
        autos.add(auto2);
        autos.add(auto3);

        try (
            FileWriter fw = new FileWriter(&quot;autos.csv&quot;);
            PrintWriter pr = new PrintWriter(fw);) {
            // cuerpo del try...

            // son datos, tratemoslos con modernidad...
            autos.forEach(auto -&gt; pr.printf(&quot;%s,%s,%s%n&quot;, auto[0], auto[1], auto[2]) );

            System.out.println(&quot;Archivo generado exitosamente !!!&quot;);
        } catch (IOException e) {
            System.out.println(e.getMessage());
        }

    }

}

</code></pre>

<p>Salida del archivo.</p>
<pre><code>5,rojo,2019
3,rojo,2000
5,azul,2010
</code></pre>

<h2 id="leer-un-archivo"><strong>Leer un archivo</strong></h2>
<ul>
<li>Leamos el archivo <code>autos.csv</code>, generado en el ejercicio anterior.</li>
<li>El proceso es similar a la escritura; pero, acá interactúan dos clases; <code>FileReader</code> el de la excepción si es que no puede leer el archivo y la clase: </li>
</ul>
<p>Contenido del archivo.</p>
<pre><code>5,rojo,2019
3,rojo,2000
5,azul,2010
</code></pre>

<p>Solución</p>
<pre><code class="java">package cl.lherrera.java004;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class Principal {
    public static void main(String[] args) {
        try (
            FileReader fr = new FileReader(&quot;autos.csv&quot;);
            BufferedReader br = new BufferedReader(fr);) {
            String lineaLeida = br.readLine();
            System.out.println(&quot;inicio de la lectura...&quot;);
            while (lineaLeida != null) {
                System.out.println(lineaLeida);
                lineaLeida = br.readLine();
            }
            System.out.println(&quot;fin de la lectura...&quot;);

        } catch (IOException e) {
            System.out.println(e.getMessage());
        }

    }

}
</code></pre>

<p>Salida</p>
<pre><code>inicio de la lectura...
5,rojo,2019
3,rojo,2000
5,azul,2010
fin de la lectura...
</code></pre>

<h2 id="ejercicio-de-archivo-a-una-lista"><strong>Ejercicio: De archivo a una lista.</strong></h2>
<ul>
<li>Implementaremos en <code>Java</code>, un programa que lea el archivo generado, con la capacidad de recibir más lineas de información. Es decir que posea la estructura del mismo archivo pero la información puede ser variada, en cuanto a cantidad de lineas.</li>
<li>Hasta ahora, se mantiene igual que el programa anterior; pero este posee además las siguientes características.<ul>
<li>Guardar cada elemento en una lista, para poder manipular la información.</li>
<li>Imprimir los detalles de cada automóvil. (formato libre).</li>
<li>Determinar el promedio de los años.</li>
<li>Determinar el número de puestas más frecuente.</li>
<li>Entregar el número de la muestra, es decir, la cantidad de elementos o filas que contiene cada linea de información.</li>
</ul>
</li>
<li>Los puntos anteriores son solamente. aplicaciones que se realizan sobre una lista, es por eso que es imperativo que se almacene.</li>
</ul>
<p>Solución.</p>
<pre><code class="java">package cl.lherrera.java004;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

public class Principal {
    public static void main(String[] args) {
        try (
            FileReader fr = new FileReader(&quot;autos.csv&quot;);
            BufferedReader br = new BufferedReader(fr);) {
            String lineaLeida = br.readLine();
            System.out.println(&quot;inicio de la lectura...&quot;);

            List&lt;String[]&gt; autos = new ArrayList&lt;&gt;();

            // guardando los datos en una lista.
            while (lineaLeida != null) {
                autos.add(lineaLeida.split(&quot;,&quot;));
                lineaLeida = br.readLine();
            }

            // Imprimiendo los detalles del vehículo.
            System.out.println(&quot;Detalles de los automóviles&quot;);
            autos.forEach(auto -&gt; {
                System.out.printf(&quot;Nº Puertas: %s, Color: %s, Año: %s%n&quot;, auto[0], auto[1], auto[2]);
            });

            // Preparando para siguientes preguntas
            List&lt;String&gt; puertas = new ArrayList&lt;&gt;();
            List&lt;String&gt; anios = new ArrayList&lt;&gt;();

            // llenamos los arreglos que se le aplicará
            // las funciones de promedio y más frecuente.
            autos.forEach((auto) -&gt; {
                puertas.add(auto[0]);
                anios.add(auto[2]);
            });

            // imprimiendo el promedio de los años
            double promedio = anios
                .stream()
                .mapToDouble(Double::parseDouble) // es un string, hay que parserarlo
                .average().orElse(0.0);

            System.out.println(&quot;El promedio de los años es: &quot; + promedio);

            // determinando el número de puertas más frecuente
            int frecuente = 0;
            for (String numPuertas : puertas) {
                Integer num = Collections.frequency(puertas, numPuertas);
                if (num &gt; frecuente)
                    frecuente = Integer.parseInt(numPuertas);
            }
            System.out.println(&quot;El número de puertas más frecuente es: &quot; + frecuente);

            // determinando el número de la muestra
            System.out.println(&quot;El tamaño de la muestra es: &quot; + autos.size() + &quot; autos&quot;);

            System.out.println(&quot;fin de la lectura...&quot;);

        } catch (IOException e) {
            System.out.println(e.getMessage());
        }

    }

}


</code></pre>

<ul>
<li>Se deja como tarea la refactorización de este ejercicio.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/vendor.a0c4167b.min.js"></script>
      <script src="../../../../assets/javascripts/bundle.fb26dd1d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../../../..",
          features: [],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>