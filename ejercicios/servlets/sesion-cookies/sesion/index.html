


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.6">
    
    
      
        <title>Las variables de sesión. - Java Full Stack Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4b9ffd7b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#las-variables-de-sesion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../../.." title="Java Full Stack Docs" class="md-header-nav__button md-logo" aria-label="Java Full Stack Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Java Full Stack Docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Las variables de sesión.
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Java Full Stack Docs" class="md-nav__button md-logo" aria-label="Java Full Stack Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Java Full Stack Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../repaso/teoria/poo/herencia/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="las-variables-de-sesion">Las variables de sesión.</h1>
<hr />
<p>La session, es un objeto, de tipo clave valor y comienza desde que se activa por el usuario, hasta que se finalice, ya sea manual o automático. Está en el objeto <code>request</code> y el objetivo es que se pueda acceder a estas variables como si fueran globales para la app (servlets y jsp)., Hay que recordad que un jsp en estricto rigor, es un servlet, y las variables de sesión no es que se estén tratando en el cliente por ponerlas en el JSP, aún seguimos en el servidor.</p>
<p>El tamaño máximo recomendado para una sesión, es de un promedio de 5 megas. Aunque hay casos en que pueden llegar a contener 50 megas.</p>
<hr />
<h1 id="ejemplo-1-envio-valor-a-otro-jsp">Ejemplo 1: Envío valor a otro JSP</h1>
<hr />
<p>Se requere que tres páginas comprartan la información de un texto que se ingresa con un formulario.</p>
<p>Estructura:</p>
<pre><code class="html">./
├── WebContent
│   ├── META-INF
│   │   └── MANIFEST.MF
│   ├── WEB-INF
│   │   ├── lib
│   │   └── web.xml
│   ├── comprueba.jsp
│   ├── index.jsp
│   └── recibe.jsp
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── cl
│   │   │       └── lherrera
│   │   │           └── sesion
│   │   │               └── servlets
│   │   │                   ├── Comprueba.java
│   │   │                   └── ProcesaForm.java
│   │   └── resources
│   └── test
│       ├── java
│       └── resources
└── target
    ├── classes
    │   ├── META-INF
    │   │   ├── MANIFEST.MF
    │   │   └── maven
    │   │       └── cl.lherrera
    │   │           └── sesion002
    │   │               ├── pom.properties
    │   │               └── pom.xml
    │   └── cl
    │       └── lherrera
    │           └── sesion
    │               └── servlets
    │                   ├── Comprueba.class
    │                   └── ProcesaForm.class
    └── test-classes

26 directories, 13 files

</code></pre>

<p><code>/sesion002/WebContent/WEB-INF/web.xml</code></p>
<p>Dos rutas a los servlets</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;
  &lt;display-name&gt;sesion002&lt;/display-name&gt;
  &lt;welcome-file-list&gt;
    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
  &lt;/welcome-file-list&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;Procesa el formulario&lt;/servlet-name&gt;
        &lt;servlet-class&gt;cl.lherrera.sesion.servlets.ProcesaForm&lt;/servlet-class&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Procesa el formulario&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/procesaForm&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;Comprueba el valor&lt;/servlet-name&gt;
        &lt;servlet-class&gt;cl.lherrera.sesion.servlets.Comprueba&lt;/servlet-class&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Comprueba el valor&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/comprueba&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt; 

&lt;/web-app&gt;

</code></pre>

<p>La vistas</p>
<p><code>/sesion002/WebContent/index.jsp</code></p>
<pre><code class="html">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
    pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

    &lt;form action=&quot;procesaForm&quot; method=&quot;post&quot;&gt;
        Valor a grabar en la sesión: &lt;input type=&quot;text&quot; name=&quot;valor&quot; placeholder='&lt;%=session.getAttribute(&quot;valor&quot;)%&gt;' /&gt;
        &lt;button type=&quot;submit&quot;&gt;Enviar&lt;/button&gt;
    &lt;/form&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<p><code>/sesion002/WebContent/recibe.jsp</code></p>
<pre><code class="html">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
    pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Recibe&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;%
    String valor = (String) session.getAttribute(&quot;valor&quot;);
%&gt;

    &lt;h1&gt;El valor entregado en sesión es: &lt;%=valor %&gt;&lt;/h1&gt;

    &lt;a href=&quot;comprueba&quot;&gt;Compruebalo&lt;/a&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<p><code>/sesion002/WebContent/comprueba.jsp</code></p>
<pre><code class="html">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
    pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Comprueba&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;%
    String valor = (String) request.getSession().getAttribute(&quot;valor&quot;);
%&gt;


    &lt;h1&gt;&lt;%=valor %&gt;&lt;/h1&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<p>Los servlets, controladores.</p>
<p><code>/sesion002/src/main/java/cl/lherrera/sesion/servlets/ProcesaForm.java</code></p>
<pre><code class="java">package cl.lherrera.sesion.servlets;

import java.io.IOException;
import java.util.logging.Logger;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class ProcesaForm extends HttpServlet{

    private static final long serialVersionUID = 1421144908062873148L;
    Logger logger = Logger.getLogger(ProcesaForm.class.getName());
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) {
        HttpSession session = req.getSession();
        session.setAttribute(&quot;valor&quot;, req.getParameter(&quot;valor&quot;) );

        try {
            req.getRequestDispatcher(&quot;recibe.jsp&quot;).forward(req, resp);
        } catch (ServletException | IOException e) {
            logger.severe(e.getMessage());
        }
    }
}

</code></pre>

<p>´/sesion002/src/main/java/cl/lherrera/sesion/servlets/Comprueba.java´</p>
<pre><code class="java">        package cl.lherrera.sesion.servlets;

import java.io.IOException;
import java.util.logging.Logger;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class ProcesaForm extends HttpServlet{

    private static final long serialVersionUID = 1421144908062873148L;
    Logger logger = Logger.getLogger(ProcesaForm.class.getName());
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) {
        HttpSession session = req.getSession();
        session.setAttribute(&quot;valor&quot;, req.getParameter(&quot;valor&quot;) );

        try {
            req.getRequestDispatcher(&quot;recibe.jsp&quot;).forward(req, resp);
        } catch (ServletException | IOException e) {
            logger.severe(e.getMessage());
        }
    }
}

</code></pre>

<hr />
<h1 id="ejemplo-2-envio-objeto">Ejemplo 2: Envío objeto</h1>
<hr />
<p>Se necesita almacenar la información de los usuarios para el sitio de forma global y no disponemos de una base de datos para que realice esta tarea, es por eso que lo haremos usando sesion, que almacena una lista, en la sesión, lo que permite utilizarla de forma global. Además podremos ver qué es lo que pasa cuando esta sesión se cierra.</p>
<p>Estructura:</p>
<pre><code>./
├── WebContent
│   ├── META-INF
│   │   └── MANIFEST.MF
│   ├── WEB-INF
│   │   ├── lib
│   │   └── web.xml
│   ├── index.jsp
│   └── revisaTabla.jsp
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── cl
│   │   │       └── lherrera
│   │   │           ├── sesion
│   │   │           │   └── servlets
│   │   │           │       ├── CerrarSesion.java
│   │   │           │       ├── ProcesaForm.java
│   │   │           │       └── RevisaTabla.java
│   │   │           └── session
│   │   │               └── modelo
│   │   │                   └── Usuario.java
│   │   └── resources
│   └── test
│       ├── java
│       └── resources
└── target
    ├── classes
    │   ├── META-INF
    │   │   ├── MANIFEST.MF
    │   │   └── maven
    │   │       └── cl.lherrera
    │   │           └── sesion004
    │   │               ├── pom.properties
    │   │               └── pom.xml
    │   └── cl
    │       └── lherrera
    │           ├── sesion
    │           │   └── servlets
    │           │       ├── CerrarSesion.class
    │           │       ├── ProcesaForm.class
    │           │       └── RevisaTabla.class
    │           └── session
    │               └── modelo
    │                   └── Usuario.class
    └── test-classes

30 directories, 16 files

</code></pre>

<p><code>/sesion004/WebContent/WEB-INF/web.xml</code></p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;
  &lt;display-name&gt;sesion002&lt;/display-name&gt;
  &lt;welcome-file-list&gt;
    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
  &lt;/welcome-file-list&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;Procesa el formulario&lt;/servlet-name&gt;
        &lt;servlet-class&gt;cl.lherrera.sesion.servlets.ProcesaForm&lt;/servlet-class&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Procesa el formulario&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/procesaForm&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;muestra una tabla&lt;/servlet-name&gt;
        &lt;servlet-class&gt;cl.lherrera.sesion.servlets.RevisaTabla&lt;/servlet-class&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;muestra una tabla&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/revisarTabla&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt; 

       &lt;servlet&gt;
        &lt;servlet-name&gt;Cierra sesion&lt;/servlet-name&gt;
        &lt;servlet-class&gt;cl.lherrera.sesion.servlets.CerrarSesion&lt;/servlet-class&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Cierra sesion&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/cerrarSesion&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

&lt;/web-app&gt;
</code></pre>

<p>Las vistas</p>
<p><code>/sesion004/WebContent/index.jsp</code></p>
<pre><code class="html">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Index&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;%      
String mensaje = (String) request.getAttribute(&quot;mensaje&quot;);
%&gt;

    &lt;%=(mensaje != null)? mensaje: &quot;&quot; %&gt;
    &lt;form action=&quot;procesaForm&quot; method=&quot;post&quot;&gt;
        &lt;fieldset&gt;
            &lt;legend&gt;Ingreso de usarios&lt;/legend&gt;
            &lt;p&gt;
                Nombre: &lt;input type=&quot;text&quot; name=&quot;nombre&quot;&gt; &lt;br /&gt;
            &lt;/p&gt;

            &lt;p&gt;
                Correo: &lt;input type=&quot;text&quot; name=&quot;correo&quot;&gt; &lt;br /&gt;
            &lt;/p&gt;

            &lt;p&gt;
                Teléfono: &lt;input type=&quot;text&quot; name=&quot;telefono&quot;&gt; &lt;br /&gt;
            &lt;/p&gt;

        &lt;/fieldset&gt;
        &lt;button type=&quot;submit&quot;&gt;Agregar usuario&lt;/button&gt;
    &lt;/form&gt;
    &lt;p&gt;
        &lt;a href=&quot;revisarTabla&quot;&gt;Revisar la tabla&lt;/a&gt; | &lt;a href=&quot;cerrarSesion&quot;&gt;Cerrar sesion&lt;/a&gt;
    &lt;/p&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<p><code>/sesion004/WebContent/revisaTabla.jsp</code></p>
<pre><code class="html">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;%@ page import=&quot;cl.lherrera.session.modelo.Usuario&quot;%&gt;
&lt;%@ page import=&quot;java.util.List&quot;%&gt;

&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Revisa Tabla&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

    &lt;%
    List&lt;Usuario&gt; usuarios = (List&lt;Usuario&gt;) session.getAttribute(&quot;usuarios&quot;);
%&gt;

    &lt;table border=&quot;1&quot;&gt;
        &lt;tr&gt;
            &lt;th&gt;Nombre&lt;/th&gt;
            &lt;th&gt;Correo&lt;/th&gt;
            &lt;th&gt;Teléfono&lt;/th&gt;
        &lt;/tr&gt;
        &lt;%if(usuarios == null){ %&gt;
        &lt;tr&gt;
            &lt;td colspan=&quot;3&quot;&gt;No existen registros...&lt;/td&gt;
        &lt;/tr&gt;
        &lt;%}else { %&gt;
        &lt;%for (Usuario usuario: usuarios) { %&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;%=usuario.getNombre() %&gt;&lt;/td&gt;
            &lt;td&gt;&lt;%=usuario.getCorreo() %&gt;&lt;/td&gt;
            &lt;td&gt;&lt;%=usuario.getTelefono() %&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;%} %&gt;
        &lt;%} %&gt;
    &lt;/table&gt;
    &lt;a href=&quot;procesaForm&quot;&gt;Volver&lt;/a&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>

<p>Los Servlets</p>
<p><code>/sesion004/src/main/java/cl/lherrera/sesion/servlets/ProcesaForm.java</code></p>
<pre><code class="java">package cl.lherrera.sesion.servlets;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.logging.Logger;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import cl.lherrera.session.modelo.Usuario;

public class ProcesaForm extends HttpServlet{

    private static final long serialVersionUID = 1421144908062873148L;
    private static Logger logger = Logger.getLogger(ProcesaForm.class.getName());

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) {
        HttpSession session = req.getSession();
        List&lt;Usuario&gt; usuarios = new ArrayList&lt;&gt;();

        if(session.getAttribute(&quot;usuarios&quot;) == null) {
            session.setAttribute(&quot;usuarios&quot;, usuarios);
        }

        usuarios = (List&lt;Usuario&gt;) session.getAttribute(&quot;usuarios&quot;);

        String nombre = req.getParameter(&quot;nombre&quot;);
        String correo = req.getParameter(&quot;correo&quot;);
        String telefono = req.getParameter(&quot;telefono&quot;);

        Usuario usuario = new Usuario();
        usuario.setNombre(nombre);
        usuario.setCorreo(correo);
        usuario.setTelefono(telefono);

        usuarios.add(usuario);

        session.removeAttribute(&quot;usuarios&quot;);
        session.setAttribute(&quot;usuarios&quot;, usuarios);

        req.setAttribute(&quot;mensaje&quot;, &quot;Usuario &quot; + usuario.getNombre() + &quot; ingresado, consulte tabla&quot;);

        try {
            req.getRequestDispatcher(&quot;index.jsp&quot;).forward(req, resp);
        } catch (ServletException | IOException e) {
            logger.severe(e.getMessage());
        }

    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) {
        try {
            req.getRequestDispatcher(&quot;index.jsp&quot;).forward(req, resp);
        } catch (ServletException | IOException e) {
            logger.severe(e.getMessage());
        }
    }

}

</code></pre>

<p><code>/sesion004/src/main/java/cl/lherrera/sesion/servlets/RevisaTabla.java</code></p>
<pre><code class="java">package cl.lherrera.sesion.servlets;

import java.io.IOException;
import java.util.logging.Logger;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class RevisaTabla extends HttpServlet{

    private static final long serialVersionUID = 142114490806232148L;
    private static Logger logger = Logger.getLogger(RevisaTabla.class.getName());
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) {
        // sin hacer nada más que redirigir
        try {
            req.getRequestDispatcher(&quot;revisaTabla.jsp&quot;).forward(req, resp);
        } catch (ServletException | IOException e) {
            logger.severe(e.getMessage());
        }
    }
}

</code></pre>

<p><code>/sesion004/src/main/java/cl/lherrera/sesion/servlets/CerrarSesion.java</code></p>
<pre><code class="java">package cl.lherrera.sesion.servlets;

import java.io.IOException;
import java.util.logging.Logger;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class CerrarSesion extends HttpServlet{

    private static final long serialVersionUID = -7437014430757537933L;
    private static Logger logger = Logger.getLogger(CerrarSesion.class.getName());

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) {
        HttpSession session = req.getSession();

        session.removeAttribute(&quot;usuarios&quot;);
        session.invalidate();
        req.setAttribute(&quot;mensaje&quot;, &quot;Sesión eliminada...&quot;);
        try {
            req.getRequestDispatcher(&quot;index.jsp&quot;).forward(req, resp);
        } catch (ServletException | IOException e) {
            logger.severe(e.getMessage());
        }
    }

}
</code></pre>

<p>Como ejercicio queda crear un inicio de sesión simple, (siempre se podrá entrar, el usuario se guarda en una variable de sesión), que en la parte superior aparezca un saludo al usuario que inición sesión.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/vendor.a0c4167b.min.js"></script>
      <script src="../../../../assets/javascripts/bundle.fb26dd1d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../../../..",
          features: [],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>